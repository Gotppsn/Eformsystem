@inherits LayoutComponentBase
@inject NavigationManager NavigationManager

<PageTitle>E-Form Builder</PageTitle>

<div class="min-h-screen flex flex-col">
    <header class="bg-primary text-white shadow-md">
        <div class="container mx-auto px-4 py-3 flex justify-between items-center">
            <div class="flex items-center">
                <a href="/" class="text-xl font-bold">E-Form Builder</a>
            </div>
            <nav>
                <ul class="flex space-x-6">
                    <li>
                        <a href="/forms" class="@GetActiveClass("/forms")">
                            <i class="fas fa-file-alt mr-1"></i> Forms
                        </a>
                    </li>
                    <li>
                        <a href="/reports" class="@GetActiveClass("/reports")">
                            <i class="fas fa-chart-bar mr-1"></i> Reports
                        </a>
                    </li>
                    <li>
                        <a href="/management" class="@GetActiveClass("/management")">
                            <i class="fas fa-cog mr-1"></i> Management
                        </a>
                    </li>
                    <li>
                        <div class="relative group">
                            <button class="flex items-center">
                                <i class="fas fa-user-circle mr-1"></i> User
                                <i class="fas fa-chevron-down ml-1 text-xs"></i>
                            </button>
                            <div class="absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg py-1 z-10 hidden group-hover:block">
                                <a href="/profile" class="block px-4 py-2 text-gray-800 hover:bg-gray-100">Profile</a>
                                <a href="/logout" class="block px-4 py-2 text-gray-800 hover:bg-gray-100">Logout</a>
                            </div>
                        </div>
                    </li>
                </ul>
            </nav>
        </div>
    </header>

    <main class="flex-grow bg-gray-50">
        @Body
    </main>

    <footer class="bg-gray-800 text-white py-4">
        <div class="container mx-auto px-4">
            <div class="flex justify-between items-center">
                <div>
                    <p>&copy; 2025 Thai Parkerizing. All rights reserved.</p>
                </div>
                <div>
                    <p>Version 1.0.0</p>
                </div>
            </div>
        </div>
    </footer>
</div>

@code {
    private string GetActiveClass(string path)
    {
        return NavigationManager.Uri.Contains(path) ? "text-white font-semibold" : "text-gray-200 hover:text-white";
    }
}